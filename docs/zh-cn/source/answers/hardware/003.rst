如何适配新的自动驾驶车辆底盘？
==============================

我想适配一辆新的自动驾驶车辆，但是不在当前Apollo支持的车辆列表里面，我需要做哪些工作？

-  维护者：\ daohu527@gmail.com
-  版本：1.0.0
-  日期：24/07/2024
-  描述：

回答
----

要适配新的自动驾驶车辆，首先需要确保车辆满足线控要求，即具备通过电信号来控制车辆的能力，包括：线控油门、线控刹车、线控转向和线控档位。其次，这些线控系统的性能必须满足自动驾驶控制的要求，具体标准因不同场景而异，例如卡车和乘用车的标准就有所不同。最后，还需要获取车辆的DBC控制协议，以便根据协议发送控制命令。

接下来我们详细介绍这几个部分。

线控
~~~~

传统车辆是通过油门、刹车踏板、方向盘和档位杆来控制行驶，而自动驾驶车辆则是通过canbus总线发送命令来实现控制。因此，车辆必须支持通过电信号来控制，即具备线控油门、线控刹车、线控转向和线控档位功能。

线控性能
~~~~~~~~

车辆不仅要支持线控，其线控性能也必须达到一定标准。例如，从接收控制指令到响应的时间，以及车辆的转向精度等。线控性能越好，车辆控制就越方便；如果线控性能差，控制难度就会增加，甚至可能无法支持自动驾驶。详细的线控要求可以参考\ `Apollo线控标准 <https://apollo-homepage.bj.bcebos.com/Apollo_by_wire_requirement.xlsx>`__\ 。

   注意：这是乘用车的底盘要求，商用车的要求可能有所不同。为了支持不同的底盘和动力学特性，控制模块需要进行相应的调整。

底盘协议
~~~~~~~~

即使车辆支持线控且性能满足要求，由于各厂家控制协议不同，仍需适配车辆的底盘控制协议，才能实现车辆控制。为了简化适配过程，我们提供了\ `adbtool <https://github.com/daohu527/adbctool>`__\ 工具，它可以将车辆的DBC协议转换为Apollo中的C++车辆控制协议。这样，Apollo自动驾驶系统的控制命令就能转换为车辆的canbus命令，从而控制车辆行驶。

以上就是在Apollo中新增加车辆底盘的过程。
