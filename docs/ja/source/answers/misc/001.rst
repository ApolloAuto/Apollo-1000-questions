Apolloログの表示方法
=====================

Apolloログファイルをどのように表示できますか？また、ログを端末に出力するにはどうすればよいですか？

-  メンテナー：\ daohu527@gmail.com
-  バージョン：1.0.0
-  日付：2024年5月9日
-  説明：

回答
----

ApolloはDEBUG、INFO、WARN、ERROR、FATALの5つのログレベルを提供しています。デフォルトでは、システムはINFOレベル以上のログのみを保存し、WARNレベル以上のログのみを端末に出力します。

ログファイルの保存
~~~~~~~~~~~~~~~~~

Apolloのログファイルはモジュールごとに保存されており、``data/log``フォルダにあります。システムが起動するたびに、現在のタイムスタンプに基づいて新しいログファイルが作成され、対応する``ModuleName.INFO.log``ファイルにリンクされます。過去のログファイルはタイムスタンプに基づいて保存されます。

たとえば、知覚モジュールを起動すると、システムは現在のタイムスタンプに基づいて新しいログファイルを作成し、それを``perception.INFO.log``にリンクします。

ログを別のファイルに出力したい場合は、次の方法を使用できます。この方法でログは``ModuleName.INFO.log``ファイルに保存されます。

.. code:: cpp

   ALOG_MODULE("ModuleName", INFO) << "Hello world!";

端末ログの表示
~~~~~~~~~~~~~~~~

デフォルトでは、DEBUGレベルのログは表示されませんが、``cyber/setup.bash``ファイル内の``GLOG_v``の値を``4``に変更することでDEBUGログの表示を有効にできます。

.. code:: bash

   # DEBUGログを有効にする
   # for DEBUG log
   export GLOG_v=4

ログ情報を端末とログファイルの両方に出力したい場合は、``GLOG_alsologtostderr``の値を``1``に設定する必要があります。デフォルトでは、この値は0です（つまり、端末には出力しません）。

.. code:: bash

   # export GLOG_alsologtostderr=0

   # ログを端末にも出力することを許可
   export GLOG_alsologtostderr=1

これらの変更を適用するために、端末で``source cyber/setup.bash``コマンドを実行していることを確認してください。
