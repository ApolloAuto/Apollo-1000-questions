コンパイル中の依存関係ダウンロード失敗を解決する方法
===============================================

Apolloのコンパイルプロセス中に依存関係がダウンロードされますが、ネットワークの問題によりダウンロードが失敗した場合、どのようにこの問題を解決できますか？

-  メンテナー：\ daohu527@gmail.com
-  バージョン：1.0.0
-  日付：2024年6月12日
-  説明：

回答
----

Bazelコンパイルキャッシュ
~~~~~~~~~~~~~~~~~~~~~~~

Bazelを使用してプロジェクトをコンパイルする際、外部ライブラリが必要であり、リモートコードをネットワーク経由で取得してコンパイルします。しかし、ネットワークが利用できないか、コードが取得できない場合、コンパイルが失敗します。

オフラインコンパイルの問題を解決するために、Bazelはローカルパスから依存ファイルを取得することをサポートしています。したがって、現在のプロジェクトに必要なコードパッケージをローカルキャッシュパスに置くことで、ネットワークの問題によるコンパイル失敗を回避できます。

具体的な手順は以下の通りです：

1. BazelがApolloをコンパイルするために必要な依存ファイルをダウンロードします：

   -  `百度网盘(n6j2) <https://pan.baidu.com/s/10uwjhZX3vBVmw92ExgCAXw>`__から依存ファイルをダウンロードします。

2. ダウンロードしたファイルをBazelコンパイルキャッシュディレクトリにコピーします：

   .. code:: shell

      # dependency_filesディレクトリにはApolloコンパイルに必要な依存ファイルが含まれています
      # apollo/.cache/distdir/はBazelのキャッシュパスです

      cp -r dependency_files/* apollo/.cache/distdir/

3. コンパイルを再開します：

   .. code:: shell

      ./apollo.sh build

これらの手順に従うことで、コンパイルを成功裏に完了できるはずです。
